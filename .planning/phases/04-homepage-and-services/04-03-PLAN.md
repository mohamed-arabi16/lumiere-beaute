---
phase: 04-homepage-and-services
plan: "03"
type: execute
wave: 2
depends_on:
  - "04-01"
files_modified:
  - src/components/sections/ServicesTeaserSection.tsx
  - src/components/sections/AcademyTeaserSection.tsx
  - src/components/sections/TestimonialsSection.tsx
autonomous: true
requirements:
  - HOME-03
  - HOME-04
  - HOME-05

must_haves:
  truths:
    - "Clicking any services teaser card or the 'View All Treatments' CTA button navigates to /services via React Router Link (not <a href>) — page transition animation fires"
    - "Clicking any academy teaser card or the 'Explore Courses' CTA button navigates to /academy via React Router Link — page transition animation fires"
    - "The testimonials section displays at least 3 client quotes, each with an author name and role"
    - "All three sections reveal with scroll-triggered animations using FadeInSection and/or StaggerContainer — no animation replay on scroll-back"
  artifacts:
    - path: "src/components/sections/ServicesTeaserSection.tsx"
      provides: "3 services teaser cards linking to /services, section CTA"
      exports: ["ServicesTeaserSection"]
    - path: "src/components/sections/AcademyTeaserSection.tsx"
      provides: "2 academy teaser cards linking to /academy, section CTA"
      exports: ["AcademyTeaserSection"]
    - path: "src/components/sections/TestimonialsSection.tsx"
      provides: "3+ client testimonial cards in staggered grid"
      exports: ["TestimonialsSection"]
  key_links:
    - from: "src/components/sections/ServicesTeaserSection.tsx"
      to: "/services route"
      via: "import { Link } from 'react-router-dom'; <Link to='/services'>"
      pattern: "Link.*to.*services"
    - from: "src/components/sections/AcademyTeaserSection.tsx"
      to: "/academy route"
      via: "import { Link } from 'react-router-dom'; <Link to='/academy'>"
      pattern: "Link.*to.*academy"
    - from: "src/components/sections/TestimonialsSection.tsx"
      to: "src/types/content.ts"
      via: "import type { Testimonial } from '../../types/content'"
      pattern: "Testimonial"
---

<objective>
Build three homepage sections: ServicesTeaserSection (teaser cards to /services), AcademyTeaserSection (teaser cards to /academy), and TestimonialsSection (client quote cards).

Purpose: These middle-of-page homepage sections complete the homepage content requirements. They can be built in parallel with Plan 02 since they share no files.

Output: src/components/sections/ServicesTeaserSection.tsx, AcademyTeaserSection.tsx, TestimonialsSection.tsx
</objective>

<execution_context>
@/Users/mohamedkhair/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mohamedkhair/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-homepage-and-services/04-RESEARCH.md
@.planning/phases/04-homepage-and-services/04-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build ServicesTeaserSection and AcademyTeaserSection</name>
  <files>
    src/components/sections/ServicesTeaserSection.tsx
    src/components/sections/AcademyTeaserSection.tsx
  </files>
  <action>
Both sections follow the same structural pattern. Build both in this task.

**Shared imports pattern for each file:**
```typescript
import { motion } from 'framer-motion';
import { useTranslation } from 'react-i18next';
import { Link } from 'react-router-dom';
import type { TeaserCard } from '../../types/content';
import { FadeInSection } from '../animations/FadeInSection';
import { StaggerContainer, staggerItemVariants } from '../animations/StaggerContainer';
import { Card } from '../ui/Card';
import { Heading, BodyText } from '../ui/Typography';
import { Button } from '../ui/Button';
```

**ServicesTeaserSection.tsx:**
- Read data: `const { t } = useTranslation('common')`
- `const cards = t('home.services_teaser.cards', { returnObjects: true }) as TeaserCard[]`
- Section heading: `t('home.services_teaser.heading')` via Heading level={2}
- Section subtitle: `t('home.services_teaser.subtitle')` via BodyText
- Cards grid: `StaggerContainer` with `className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8"`
- Each card: `<motion.div key={card.id} variants={staggerItemVariants}><Link to="/services"><Card hasPlaceholder placeholderVariant="card">...</Card></Link></motion.div>`
- Inside Card: Heading level={3} for card.title, BodyText size="sm" for card.description
- Section CTA below grid: `<Link to="/services"><Button variant="primary">{t('home.services_teaser.cta')}</Button></Link>`
- Wrap whole section in `<FadeInSection>` and a `<section>` with `className="py-20 px-6"`

**AcademyTeaserSection.tsx:**
- Same pattern, different keys: `t('home.academy_teaser.cards', { returnObjects: true }) as TeaserCard[]`
- Heading: `t('home.academy_teaser.heading')`, subtitle: `t('home.academy_teaser.subtitle')`, CTA: `t('home.academy_teaser.cta')`
- Cards grid: `grid grid-cols-1 sm:grid-cols-2 gap-6 mt-8` (2 columns max — only 2 academy cards)
- Each card Link goes to "/academy" not "/services"
- Section CTA: `<Link to="/academy"><Button variant="ghost">{t('home.academy_teaser.cta')}</Button></Link>` — use ghost variant to visually differentiate from services section

**CRITICAL navigation rule:** Use React Router `<Link to="/services">` and `<Link to="/academy">`, NEVER `<a href="/services">`. Using `<a>` bypasses AnimatePresence and the page transition animation will NOT fire (research Pattern 4).

**RTL/Tailwind rules:**
- No ml-/mr-/pl-/pr- anywhere — use px-6, gap-*, or ps-/pe- for asymmetric cases
- text-center for section headings is symmetric — acceptable
- Button variant="primary" for services CTA, variant="ghost" for academy CTA (distinguishes the two sections visually)
  </action>
  <verify>npx tsc --noEmit runs from /Users/mohamedkhair/Coding/lumiere-beaute with zero errors</verify>
  <done>ServicesTeaserSection.tsx and AcademyTeaserSection.tsx exist, each exports its component, each uses React Router Link (not anchor tags) for navigation, each wraps cards in StaggerContainer, compiles with zero TypeScript errors</done>
</task>

<task type="auto">
  <name>Task 2: Build TestimonialsSection</name>
  <files>src/components/sections/TestimonialsSection.tsx</files>
  <action>
Create src/components/sections/TestimonialsSection.tsx.

**Imports:**
```typescript
import { motion } from 'framer-motion';
import { useTranslation } from 'react-i18next';
import type { Testimonial } from '../../types/content';
import { FadeInSection } from '../animations/FadeInSection';
import { StaggerContainer, staggerItemVariants } from '../animations/StaggerContainer';
import { Card } from '../ui/Card';
import { Heading, BodyText } from '../ui/Typography';
```

**Component structure:**
```tsx
export function TestimonialsSection() {
  const { t } = useTranslation('common');
  const testimonials = t('home.testimonials', { returnObjects: true }) as Testimonial[];

  return (
    <section className="py-20 px-6 bg-surface-dark dark:bg-surface-dark">
      <FadeInSection className="text-center mb-12">
        <Heading level={2} className="text-celadon-100 dark:text-celadon-100">
          {t('home.testimonials_heading')}
        </Heading>
      </FadeInSection>
      <StaggerContainer className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
        {testimonials.map((testimonial) => (
          <motion.div key={testimonial.id} variants={staggerItemVariants}>
            <Card className="h-full flex flex-col gap-4 bg-surface-dark-card dark:bg-surface-dark-card border border-seagrass-600/30">
              <BodyText className="text-mint-leaf-200 italic leading-relaxed">
                "{testimonial.quote}"
              </BodyText>
              <div className="mt-auto">
                <BodyText size="sm" className="text-celadon-100 font-medium">
                  {testimonial.author}
                </BodyText>
                <BodyText size="sm" className="text-seagrass-400">
                  {testimonial.role}
                </BodyText>
              </div>
            </Card>
          </motion.div>
        ))}
      </StaggerContainer>
    </section>
  );
}
```

**Styling note:** This section uses the dark teal background (`bg-surface-dark`) in both light and dark modes to create visual contrast against the ivory sections above and below. The card text uses celadon/mint-leaf tokens (light on dark) for readability. This is intentional editorial contrast — luxury sites often alternate light/dark section backgrounds.

**Key: `testimonial.id` must be used as the React key** (from locale JSON: "testimonial-1", "testimonial-2", "testimonial-3") — never array index. This ensures AnimatePresence works correctly if testimonials are ever filtered.

**No quotes hardcoded** — all text from `t()` calls. The `"` wrapper around `{testimonial.quote}` is a JSX text node, not a hardcoded string — this is acceptable punctuation decoration.
  </action>
  <verify>npx tsc --noEmit runs from /Users/mohamedkhair/Coding/lumiere-beaute with zero errors</verify>
  <done>TestimonialsSection.tsx exists, exports TestimonialsSection, maps over testimonials array from t('home.testimonials', { returnObjects: true }) as Testimonial[], uses testimonial.id as key (not array index), compiles with zero TypeScript errors</done>
</task>

</tasks>

<verification>
- All three section files exist: ServicesTeaserSection.tsx, AcademyTeaserSection.tsx, TestimonialsSection.tsx
- grep -r "href.*services\|href.*academy" src/components/sections/ returns no results (no anchor-tag navigation)
- grep -r "to=\"/services\"\|to=\"/academy\"" src/components/sections/ returns results (Link-based navigation used)
- npx tsc --noEmit exits with code 0
</verification>

<success_criteria>
All three teaser/testimonials sections exist as isolated components, navigation uses React Router Link for page transition compatibility, all data is from t() with returnObjects casting, and zero TypeScript errors on build.
</success_criteria>

<output>
After completion, create `.planning/phases/04-homepage-and-services/04-03-SUMMARY.md`
</output>
