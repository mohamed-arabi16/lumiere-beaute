---
phase: 04-homepage-and-services
plan: "04"
type: execute
wave: 3
depends_on:
  - "04-02"
  - "04-03"
files_modified:
  - src/pages/HomePage.tsx
autonomous: true
requirements:
  - HOME-01
  - HOME-02
  - HOME-03
  - HOME-04
  - HOME-05

must_haves:
  truths:
    - "The Phase 3 verification scaffold is completely removed from HomePage.tsx — no Phase 3 test content (StaggerContainer 20-item grid, FadeInSection demo text) remains"
    - "HomePage.tsx composes exactly five sections in order: HeroSection, StatsSection, ServicesTeaserSection, AcademyTeaserSection, TestimonialsSection"
    - "The page transition motion.div wrapper (custom={dir}, pageTransitionVariants, initial/animate/exit) is preserved — page animations still fire on navigation"
  artifacts:
    - path: "src/pages/HomePage.tsx"
      provides: "Complete homepage composing all five sections"
      exports: ["HomePage"]
  key_links:
    - from: "src/pages/HomePage.tsx"
      to: "src/components/sections/HeroSection.tsx"
      via: "import { HeroSection } from '../components/sections/HeroSection'"
      pattern: "HeroSection"
    - from: "src/pages/HomePage.tsx"
      to: "src/components/sections/StatsSection.tsx"
      via: "import { StatsSection } from '../components/sections/StatsSection'"
      pattern: "StatsSection"
    - from: "src/pages/HomePage.tsx"
      to: "src/components/sections/ServicesTeaserSection.tsx"
      via: "import { ServicesTeaserSection } from '../components/sections/ServicesTeaserSection'"
      pattern: "ServicesTeaserSection"
    - from: "src/pages/HomePage.tsx"
      to: "src/components/sections/AcademyTeaserSection.tsx"
      via: "import { AcademyTeaserSection } from '../components/sections/AcademyTeaserSection'"
      pattern: "AcademyTeaserSection"
    - from: "src/pages/HomePage.tsx"
      to: "src/components/sections/TestimonialsSection.tsx"
      via: "import { TestimonialsSection } from '../components/sections/TestimonialsSection'"
      pattern: "TestimonialsSection"
---

<objective>
Replace the Phase 3 verification scaffold in HomePage.tsx with the real homepage, composing all five section components built in Plans 02 and 03.

Purpose: Plans 02 and 03 built the section components but left HomePage.tsx untouched (still the Phase 3 scaffold). This plan is a focused composition task — the only file modified is HomePage.tsx. The scaffold comment at line 1 ("PHASE 3 VERIFICATION SCAFFOLD — replaced entirely in Phase 4") documents exactly this moment.

Output: src/pages/HomePage.tsx — replaced with clean 5-section homepage composition
</objective>

<execution_context>
@/Users/mohamedkhair/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mohamedkhair/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-homepage-and-services/04-RESEARCH.md
@.planning/phases/04-homepage-and-services/04-02-SUMMARY.md
@.planning/phases/04-homepage-and-services/04-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace Phase 3 scaffold with real HomePage composition</name>
  <files>src/pages/HomePage.tsx</files>
  <action>
Completely replace the content of src/pages/HomePage.tsx. The Phase 3 scaffold (marked "// PHASE 3 VERIFICATION SCAFFOLD — replaced entirely in Phase 4" at line 1) must be fully removed.

**New HomePage.tsx content:**

```tsx
import { motion } from 'framer-motion';
import { useDirection } from '../hooks/useDirection';
import { pageTransitionVariants } from '../animations/variants';
import { HeroSection } from '../components/sections/HeroSection';
import { StatsSection } from '../components/sections/StatsSection';
import { ServicesTeaserSection } from '../components/sections/ServicesTeaserSection';
import { AcademyTeaserSection } from '../components/sections/AcademyTeaserSection';
import { TestimonialsSection } from '../components/sections/TestimonialsSection';

export function HomePage() {
  const { dir } = useDirection();

  return (
    <motion.div
      custom={dir}
      variants={pageTransitionVariants}
      initial="initial"
      animate="animate"
      exit="exit"
    >
      <main>
        <HeroSection />
        <StatsSection />
        <ServicesTeaserSection />
        <AcademyTeaserSection />
        <TestimonialsSection />
      </main>
    </motion.div>
  );
}
```

**What must NOT appear in the new file:**
- No `// PHASE 3 VERIFICATION SCAFFOLD` comment
- No `ThemeTestComponent` or test content imports
- No hardcoded strings in JSX (all strings are in section components via t())
- No `StaggerContainer` or `FadeInSection` direct usage (moved into section components)
- No `min-h-screen bg-surface-ivory` on the motion.div or main — background is controlled per section

**What must be preserved:**
- The `motion.div` page transition wrapper with `custom={dir}`, `variants={pageTransitionVariants}`, `initial="initial"`, `animate="animate"`, `exit="exit"` — this is the Phase 2 AnimatedOutlet pattern (locked decision 02-03)
- `useDirection` import for the `dir` custom prop — required for RTL-aware exit direction

**Section order:** HeroSection → StatsSection → ServicesTeaserSection → AcademyTeaserSection → TestimonialsSection — this order matches the visual narrative flow: first impression → credibility → services → education → social proof.
  </action>
  <verify>
1. npx tsc --noEmit from /Users/mohamedkhair/Coding/lumiere-beaute exits with code 0
2. grep "PHASE 3 VERIFICATION SCAFFOLD" src/pages/HomePage.tsx returns no results
3. npm run build succeeds (no bundle errors)
  </verify>
  <done>HomePage.tsx contains only the motion.div wrapper + main with 5 section components; zero Phase 3 scaffold content; zero TypeScript errors; production build succeeds</done>
</task>

</tasks>

<verification>
- src/pages/HomePage.tsx imports and renders: HeroSection, StatsSection, ServicesTeaserSection, AcademyTeaserSection, TestimonialsSection
- grep "PHASE 3 VERIFICATION SCAFFOLD" src/pages/HomePage.tsx returns empty
- The motion.div page transition wrapper is preserved (custom={dir}, variants={pageTransitionVariants}, initial/animate/exit)
- npx tsc --noEmit and npm run build both exit with code 0
</verification>

<success_criteria>
HomePage.tsx is the clean real homepage. The scaffold is gone. All five sections are composed in correct order. TypeScript and build pass. The page is ready for human visual verification in Plan 06.
</success_criteria>

<output>
After completion, create `.planning/phases/04-homepage-and-services/04-04-SUMMARY.md`
</output>
