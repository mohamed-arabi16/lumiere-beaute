---
phase: 05-academy-and-contact
plan: "04"
type: execute
wave: 3
depends_on: ["05-02", "05-03"]
files_modified:
  - src/pages/ContactPage.tsx
autonomous: false

requirements: [CNTC-01, CNTC-02, CNTC-03]

must_haves:
  truths:
    - "Contact page renders with hero, contact form, WhatsApp CTA, and location info visible"
    - "Navigating to /contact from AcademyPage enroll button shows AnimatePresence page transition"
    - "Submitting the contact form shows success state or error state (not a page reload)"
    - "WhatsApp CTA opens wa.me in new tab with pre-filled message in current language"
    - "Contact page works in all three languages with correct RTL layout in Arabic mode"
    - "Academy page course cards, contact form, and location info visible on their respective pages"
  artifacts:
    - path: "src/pages/ContactPage.tsx"
      provides: "Contact page composition replacing Phase 2 stub"
      exports: ["ContactPage"]
  key_links:
    - from: "src/pages/ContactPage.tsx"
      to: "src/components/sections/ContactFormSection.tsx"
      via: "import and render ContactFormSection inside motion.div"
      pattern: "ContactFormSection"
    - from: "src/pages/ContactPage.tsx"
      to: "src/components/sections/ContactInfoSection.tsx"
      via: "import and render ContactInfoSection inside motion.div"
      pattern: "ContactInfoSection"
---

<objective>
Compose the ContactPage by replacing the Phase 2 stub with the sections built in Plan 05-03, then perform human visual verification of all 5 Phase 5 success criteria across Academy and Contact pages.

Purpose: Completes Phase 5 deliverables. ContactPage is the final composition; the checkpoint confirms all success criteria pass interactively.
Output: Updated src/pages/ContactPage.tsx. Human approval of all 5 Phase 5 success criteria.
</objective>

<execution_context>
@/Users/mohamedkhair/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mohamedkhair/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-academy-and-contact/05-02-SUMMARY.md
@.planning/phases/05-academy-and-contact/05-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace ContactPage stub with full page composition</name>
  <files>src/pages/ContactPage.tsx</files>
  <action>
    Replace the Phase 2 stub entirely. ContactPage is a pure composition — motion.div wrapper + main + hero section + ContactFormSection + ContactInfoSection. Pattern mirrors AcademyPage.tsx (locked decision: page = pure composition).

    ```typescript
    import { motion } from 'framer-motion';
    import { useTranslation } from 'react-i18next';
    import { useDirection } from '../hooks/useDirection';
    import { pageTransitionVariants } from '../animations/variants';
    import { FadeInSection } from '../components/animations/FadeInSection';
    import { Heading, BodyText } from '../components/ui/Typography';
    import { ContactFormSection } from '../components/sections/ContactFormSection';
    import { ContactInfoSection } from '../components/sections/ContactInfoSection';

    export function ContactPage() {
      const { t } = useTranslation('common');
      const { dir } = useDirection();

      return (
        <motion.div
          custom={dir}
          variants={pageTransitionVariants}
          initial="initial"
          animate="animate"
          exit="exit"
        >
          <main>
            {/* Hero */}
            <section className="py-24 px-6 bg-stormy-teal-950 dark:bg-stormy-teal-950">
              <FadeInSection className="text-center max-w-3xl mx-auto">
                <Heading level={1} className="text-celadon-100">
                  {t('contact.hero.headline')}
                </Heading>
                <BodyText className="mt-4 text-mint-leaf-300">
                  {t('contact.hero.subtitle')}
                </BodyText>
              </FadeInSection>
            </section>

            {/* Form + Info */}
            <ContactFormSection />
            <ContactInfoSection />
          </main>
        </motion.div>
      );
    }
    ```

    Remove all Phase 2 stub content. Verify that ContactFormSection comes before ContactInfoSection — the form is the primary CTA, the info card is secondary context below it. The section order gives the page a logical user flow: hero → act (form/WhatsApp) → reference (hours/address).
  </action>
  <verify>Run `npx tsc --noEmit` — zero errors. Navigate to /contact in dev server — hero section visible, form with 4 fields visible, WhatsApp button visible, business hours card visible. No "Phase 2 stub" text visible anywhere.</verify>
  <done>ContactPage.tsx composed with hero + ContactFormSection + ContactInfoSection. Zero TypeScript errors. No stub content remains.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Human verification of all 5 Phase 5 success criteria</name>
  <action>
    Start the dev server with `npm run dev` and verify all 5 Phase 5 success criteria interactively.

    Phase 5 built: Academy page with 2 course cards (CoursesSection), Contact page with EmailJS form (ContactFormSection) + location info (ContactInfoSection). Both pages replace Phase 2 stubs with full section content. All trilingual content (EN/TR/AR) in locale JSON.

    **Criterion 1 — Academy course cards (ACAD-01)**
    1. Navigate to /academy
    2. Confirm 2 course cards are visible below the hero section
    3. Each card must show: course title, description paragraph, duration (e.g. "12 weeks"), price (e.g. "₺8,500"), and two buttons

    **Criterion 2 — Enroll CTA (ACAD-02)**
    1. On /academy, click "Enroll via WhatsApp" on either course card
    2. Confirm a new tab opens to wa.me (a connection error is expected if VITE_WHATSAPP_NUMBER is not set; verify the URL structure starts with "https://wa.me/")
    3. Click "Book a Consultation" — confirm it navigates to /contact WITH a page transition animation (not a hard reload)

    **Criterion 3 — Contact form (CNTC-01)**
    1. Navigate to /contact
    2. Fill in: name, email, select a service, message
    3. Click "Send Message" — confirm button shows "Sending..." while loading
    4. If EmailJS credentials configured: success message "Message Sent!" appears, form fields clear
    5. If credentials NOT configured (expected): error message appears (not a page crash)

    **Criterion 4 — WhatsApp CTA on Contact page (CNTC-02)**
    1. On /contact, find the "Chat on WhatsApp" button above the form
    2. Click it — confirm it opens wa.me in a new tab with an encoded pre-filled message

    **Criterion 5 — Location info (CNTC-03)**
    1. On /contact, scroll to the location info card below the form
    2. Confirm it shows: address (Nişantaşı, Istanbul), phone, email, and business hours table with 3 rows

    **Bonus: RTL check**
    1. Switch language to Arabic — navigate /academy and /contact
    2. Confirm Arabic text, RTL layout, Arabic-Indic numerals in course durations (١٢ أسبوعًا)
  </action>
  <verify>Human runs dev server and completes all 5 criteria checks above.</verify>
  <done>All 5 Phase 5 success criteria confirmed: 2 course cards on Academy, WhatsApp enroll and Contact CTAs working, contact form handles submit with loading/success/error states, WhatsApp CTA on Contact opens pre-filled chat, location info card visible with address/hours/contact details.</done>
  <resume-signal>Type "approved" if all 5 criteria pass. Or describe any issues found (e.g. "criterion 3 failed — form crashes on submit") for gap closure planning.</resume-signal>
</task>

</tasks>

<verification>
Run `npx tsc --noEmit` — zero errors after ContactPage update.
All 5 Phase 5 success criteria verified interactively by human.
</verification>

<success_criteria>
Phase 5 is complete: ContactPage fully composed, all 5 roadmap success criteria verified by human (ACAD-01, ACAD-02, CNTC-01, CNTC-02, CNTC-03). Both Academy and Contact pages are live with trilingual content and AnimatePresence page transitions intact.
</success_criteria>

<output>
After completion, create `.planning/phases/05-academy-and-contact/05-04-SUMMARY.md`
</output>
