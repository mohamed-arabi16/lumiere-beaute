---
phase: 07-polish-and-ux
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/i18n/config.ts
  - src/i18n/locales/ar/ar.json
  - src/i18n/locales/en/en.json
  - src/i18n/locales/tr/tr.json
autonomous: true
requirements:
  - POL-01

must_haves:
  truths:
    - "Files ar.json, en.json, and tr.json exist in their respective locale folders"
    - "Files common.json no longer exist in any locale folder"
    - "All useTranslation('common') calls in components continue to work without modification"
    - "Language switching still loads the correct locale content at runtime"
  artifacts:
    - path: "src/i18n/locales/ar/ar.json"
      provides: "Arabic translations (renamed from common.json)"
    - path: "src/i18n/locales/en/en.json"
      provides: "English translations (renamed from common.json)"
    - path: "src/i18n/locales/tr/tr.json"
      provides: "Turkish translations (renamed from common.json)"
    - path: "src/i18n/config.ts"
      provides: "Updated i18next init importing per-language files"
      contains: "ar.json, en.json, tr.json"
  key_links:
    - from: "src/i18n/config.ts"
      to: "src/i18n/locales/ar/ar.json"
      via: "import arTranslations"
      pattern: "from './locales/ar/ar.json'"
    - from: "src/i18n/config.ts"
      to: "resources object"
      via: "namespace key stays 'common'"
      pattern: "ar: \\{ common: arTranslations \\}"
---

<objective>
Rename the three per-language `common.json` locale files to `ar.json`, `en.json`, and `tr.json`, and update `config.ts` to import from the new file names while keeping the i18next namespace key as `'common'`.

Purpose: The ROADMAP success criterion for POL-01 requires that `ar.json`, `en.json`, and `tr.json` exist and `common.json` is removed. The file rename is the observable deliverable; the namespace key decoupling from file name ensures zero component changes are required.

Output: Three renamed JSON files + updated config.ts. All existing `useTranslation('common')` and `t('key')` calls in components remain valid without any modification.
</objective>

<execution_context>
@/Users/mohamedkhair/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mohamedkhair/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-polish-and-ux/07-RESEARCH.md
@src/i18n/config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rename locale JSON files from common.json to per-language names</name>
  <files>
    src/i18n/locales/ar/ar.json
    src/i18n/locales/en/en.json
    src/i18n/locales/tr/tr.json
  </files>
  <action>
    Copy the full content of each existing `common.json` into a new file with the language-specific name, then delete the old file:

    1. Read `src/i18n/locales/ar/common.json` → write identical content to `src/i18n/locales/ar/ar.json`
    2. Read `src/i18n/locales/en/common.json` → write identical content to `src/i18n/locales/en/en.json`
    3. Read `src/i18n/locales/tr/common.json` → write identical content to `src/i18n/locales/tr/tr.json`
    4. Delete `src/i18n/locales/ar/common.json`, `src/i18n/locales/en/common.json`, `src/i18n/locales/tr/common.json` using `rm`

    CRITICAL: Do NOT modify the JSON content at all — this is a pure rename. Content changes happen in plan 07-02 (Arabic copy review). The file names must be exactly `ar.json`, `en.json`, `tr.json` — no `common` in the name.
  </action>
  <verify>
    Run: `ls src/i18n/locales/ar/ src/i18n/locales/en/ src/i18n/locales/tr/`
    Expected: Each directory shows only one file — `ar.json`, `en.json`, `tr.json` respectively. No `common.json` files visible.
  </verify>
  <done>Three per-language JSON files exist; three common.json files deleted.</done>
</task>

<task type="auto">
  <name>Task 2: Update config.ts to import from renamed files</name>
  <files>src/i18n/config.ts</files>
  <action>
    Update the three import statements in `src/i18n/config.ts` to reference the renamed files. The namespace key in the `resources` object MUST remain `'common'` — do NOT change the namespace key from `'common'` to the language name. Only the import path changes.

    Replace:
    ```typescript
    import trCommon from './locales/tr/common.json';
    import enCommon from './locales/en/common.json';
    import arCommon from './locales/ar/common.json';
    ```

    With:
    ```typescript
    import trTranslations from './locales/tr/tr.json';
    import enTranslations from './locales/en/en.json';
    import arTranslations from './locales/ar/ar.json';
    ```

    And update the resources object variable names accordingly:
    ```typescript
    resources: {
      tr: { common: trTranslations },
      en: { common: enTranslations },
      ar: { common: arTranslations },
    },
    ```

    All other config (defaultNS, fallbackLng, supportedLngs, detection, interpolation) remains unchanged.

    CRITICAL: `defaultNS: 'common'` stays as-is. The namespace key inside resources `{ common: ... }` stays as-is. Changing these would break all 30+ component `useTranslation('common')` calls and `t('key')` lookups.
  </action>
  <verify>
    Run: `npx tsc --noEmit 2>&1 | head -20`
    Expected: No TypeScript errors related to missing modules or i18n. If JSON import errors appear, verify `resolveJsonModule: true` in tsconfig.json (it should already be set). Also run `grep -r "common.json" src/i18n/` — should return zero matches.
  </verify>
  <done>config.ts imports from ar.json/en.json/tr.json; namespace key 'common' unchanged; TypeScript compiles cleanly.</done>
</task>

</tasks>

<verification>
1. `ls src/i18n/locales/ar/ src/i18n/locales/en/ src/i18n/locales/tr/` — each shows only one file (ar.json, en.json, tr.json)
2. `grep -r "common.json" src/` — zero matches
3. `grep "common:" src/i18n/config.ts` — still shows three `common:` entries in resources object
4. `npx tsc --noEmit` — compiles without errors
5. Dev server (`npm run dev`) starts and language switcher correctly loads Turkish/English/Arabic content
</verification>

<success_criteria>
- ar.json, en.json, tr.json exist in their respective locale directories
- common.json files are deleted from all three locale directories
- config.ts imports from the renamed files with namespace key 'common' unchanged
- TypeScript compiles cleanly
- Dev server starts with no console errors
</success_criteria>

<output>
After completion, create `.planning/phases/07-polish-and-ux/07-01-SUMMARY.md` following the summary template.
</output>
